"http://www.w3.org/TR/html4/loose.dtd">CC/PP Implementors Guide: Privacy and Protocolssrc="http://www.w3.org/Icons/w3c_home" height=48 width=72>CC/PP Implementors Guide:Privacy and ProtocolsW3C Working Draft 20 December 2001This Version:http://www.w3.org/TR/2001/WD-CCPP-trust-20011220/Latest Version:http://www.w3.org/TR/CCPP-trustPrevious Version:NoneEditors:Hidetaka Ohto <ohto@w3.org>,W3C/PanasonicLalitha Suryanarayana <href="mailto:lalitha@tri.sbc.com">mailto:lalitha@tri.sbc.com>, SBCJohan Hjelm <johan.hjelm@nrj.ericsson.se>,Ericsson Research Japansummary="This table lists URIs for this version, latest public versionand previous version of this document, and authors of this document.">This version:href="http://www.w3.org/TR/2001/WD-CCPP-trust-20011218">http://www.w3.org/TR/2001/WD-CCPP-trust-20011218Latest version:href="http://www.w3.org/TR/CCPP-trust">http://www.w3.org/TR/CCPP-trustEditors:Hidetaka Ohto <ohto@w3.org>,W3C/Panasonic Lalitha Suryanarayana <href="mailto:lalitha@tri.sbc.com">mailto:lalitha@tri.sbc.com>, SBCJohan Hjelm <href="mailto:johan.hjelm@nrj.ericsson.se">johan.hjelm@nrj.ericsson.se>,Ericsson Research Japan-->href="http://www.w3.org/Consortium/Legal/ipr-notice-20000612#Copyright">Copyright ©2001title="World Wide Web Consortium">W3C® (href="http://www.lcs.mit.edu/">Technology">MIT,lang="fr" title="Institut National de Recherche en Informatique etAutomatique">INRIA,href="http://www.keio.ac.jp/">Keio), All Rights Reserved. W3Chref="http://www.w3.org/Consortium/Legal/ipr-notice-20000612#Legal_Disclaimer">liability,href="http://www.w3.org/Consortium/Legal/ipr-notice-20000612#W3C_Trademarks">trademark,href="http://www.w3.org/Consortium/Legal/copyright-documents-19990405">documentuse andhref="http://www.w3.org/Consortium/Legal/copyright-software-19980720">softwarelicensing rules apply.AbstractThis document gives implementors advice on how to protect the privacy of aCC/PP user, and outlines how this can be applied using P3P in HTTP with theCC/PP Exchange protocol.Status of this documentThis section describes the status of this document at the time of itspublication. Other documents may supersede this document. The lateststatus of this document series is maintained at the W3C.This document is a very preliminary public Working Draft madeavailable by the World Wide Web Consortium (W3C) for discussiononly. It is intended to become a W3C Note. This indicates noendorsement of its content. This is work in progress, may be updated,replaced, or obsoleted by other documents at any time.A list of current W3C working drafts can be found athttp://www.w3.org/TR/.This document is produced by theCC/PP working group (member only) (part of theDevice Independence activity).The working group welcomes feedback and discussion,preferably on the public mailing listhref="mailto:www-mobile@w3.org">www-mobile@w3.org, althoughcomments may also be sent to the authors.Public comments and their responses can be accessed athttp://lists.w3.org/Archives/Public/www-mobile/.This document is a very preliminary working draft made available bythe World Wide Web Consortium (W3C) for discussion only. It isintended to become a W3C Note. This indicates no endorsement of itscontent. This is work in progress, and future updates and changes arelikely. Please send comments and feedback tohref="mailto:www-mobile@w3.org">www-mobile@w3.org.-->Table of ContentsNot included in this version.1. IntroductionCC/PP data is not in itself personal, i.e. tied to a named user, but sincethere are a number of ways for the user to be identified as the holder of theprofile, e.g. by identity transmision in HTTP parameters, or throughrecognition of the IP-number or such, there is a need for a suggested privacymethod for implementors.Descriptions of single features in a description of a terminal or the userspreferences for how that terminal should be used cannot in themselves be used toinfringe on a users privacy. However, when a profile contains a collection ofsuch properties, it can be used to personalize information; the closer thepersonalization, the bigger risk that the user can be identified from hisspecific use of the terminal; and the bigger the risk of misuse from a privacystandpoint. There is also a possible risk that a user can be identified ashaving certain abilities (e.g. if he constantly requests text in double-sizedfonts, it is likely that he is hard of seeing), and this may be possible tomisuse.Generally speaking, a user may not want to share some or all of the data in aCC/PP profile, and may wish to have control over who receives that informationand when. Origin servers customizing the content should therefore express to theuser or user agent regarding their privacy practices with regard to the use ofCC/PP data, so that, the user can make a decision on whether or not to sharethat data with the server.P3P is a way for an origin server to express the privacy policy it adheres tofor the user and/or his terminal. While the match between P3P and CC/PP is notperfect, and while the intent and implementation of the two are different, theycan be used together to enhance the privacy protection of the user.CC/PP is an abbreviation of "Composite Capability/Preference Profiles", andis an extensible format based on RDF [RDF][RDF-Schema]for describing device capabilities and user preferences. In general, userpreferences and device capabilities need to be protected from malicious use butthere is no trust management framework for CC/PP so far. Without trustmanagement, sensitive information opens to attacks by malicious servers orcontent providers.We do not aim to create new technologies in terms of network security,authentication, message validation, personal privacy protection, andcryptography. We intend to employ the existing technologies in terms of trustmanagement while considering how to apply such technologies well fit into theuse cases of CC/PP.2. Scope of this documentThis document is a discussion document, containing implementation advice fordevelopers of services based on CC/PP. It demonstrates the interactions betweenCC/PP and P3P given the current state of implementations. However, since CC/PPonly specifies a data structure and not a protocol, this work should be taken asfuture input to a formal specification, and currently be seen as advice toimplementors only.3. Protocol and transport issues.There is, currently, no CC/PP protocol. There are a number of proposals, butfor various reasons, the group is not chartered to develop a protocol. It willdo so as soon as possible, but it does require a rechartering. Meanwhile, thereare two proposals: The CC/PP Exchange Protocol, and the W-HTTP protocol.Note that it would be possible to use the "profile" header Mark Bakersuggests in draft-baker-xhtml-media-reg-01.txt anddraft-baker-xhtml-media-reg-02.txt to reference a CC/PP profile (the mechanismhas been demonstrated by Kiniko Yasuda of Keio University).There are two main ways of transporting CC/PP over HTTP: Using the CC/PPExchange Protocol, or using the UAProf W-HTTP Protocol.3.1 CC/PP Exchange ProtocolThe CC/PP Exchange Protocol (CCPP-ex) was presented as a W3C Note on June 24,1999. It uses the HTTP Extension Frameworkhref="#RFC2396">[RFC2396].The intent was to providea framework that was both possible to map into HTTP headers, and that can handledefaults as URIs. The idea was to minimize data transfer over the air, a goalthat was accomplished, as has been demonstrated byhref="/Mobile/CCPP/implday/0011ccpp/Overview.html">KinikoYasuda of Keio University.CCPP-ex uses two headers, one for the defaults and one for the updates(profile-diff:s), which are separated using MD5 hashes. A third header carrieswarning information. The protocol is documented in the W3C Note "href="/TR/NOTE-CCPPexchange">CC/PP exchange protocol based onHTTP Extension Framework".The CC/PP framework is a mechanism for describing the capabilities andpreferences associated with users and user agents accessing the World Wide Web.Information about user agents includes the hardware platform, system software,applications and user preferences. The user agent capabilities and preferencescan be thought of as metadata, or properties and descriptions of the useragent's hardware and software. The CC/PP descriptions are intended to provideinformation necessary to adapt the content and the content delivery mechanismsto best fit the capabilities and preferences of the user and its agents.The major disadvantage of this format is that it is verbose. Some networksare very slow and this would be a moderately expensive way to handlemetadata.There are several optimizations possible to help deal with networkperformance issues. One strategy is to use a compressed form of XML, and acomplementary strategy is to use references (URIs). Instead of enumerating eachset of attributes, a reference can be used to name a collection of attributessuch as the hardware platform defaults. This has the advantage of enabling theseparate fetching and caching of functional subsets. Another problem is topropagate changes to the current CC/PP descriptions to an origin server, agateway or a proxy. One solution is to transmit the entire CC/PP descriptionswith each change. This is not ideal for slow networks. An alternative is to sendonly the changes.The CC/PP exchange protocol does not depend on the profile format that itconveys. Therefore another profile format besides the CC/PP description formatcould be applied to the CC/PP exchange protocol. For example, a user agentissues a request with URIs which address the profile information, and if theuser agent changes the value of an attribute, such as turning sound off, onlythat change is sent together with the URIs. When an origin server receives therequest, the origin server inquires of CC/PP repositories the CC/PP descriptionsusing the list of URIs. Then the origin server creates a tailored content usingthe fully enumerated CC/PP descriptions. The origin server might not obtain thefully enumerated CC/PP descriptions when any one of the CC/PP repositories isnot available. In this case, it depends on the implementation whether the originserver should respond to the request with a tailored content, a non-tailoredcontent or an error. In any case, the origin server should inform the user agentof the fact.A warning mechanism has been introduced for this purpose. It is likely thatan origin server, a gateway or a proxy will be concerned with different devicecapabilities or user preferences. For example, the origin server may haveresponsibility to select content according to the users preferred language,while the proxy may have responsibility to transform the encoding format of thecontent. Therefore gateways or proxies might not forward all profile informationto an origin server. The CC/PP exchange protocol might convey natural languagecodes within header field-values. Therefore internationalization issues must beconsidered. The internationalization policy of the CC/PP exchange protocol isbased on RFC2277.Considering how to maintain a session like RTSP (RFC2326) is worthwhile fromthe point of view of minimizing transactions (i.e. the session mechanism couldpermit the client to avoid resending the elements of the CC/PP descriptions thathave not changed since the last time the information was transmitted). However asession mechanism would reduce cache efficiency, and requires maintaining statesbetween a user agent and an origin server. An extension declaration is used toindicate that an extension has been applied to a message and possibly to reservea part of the header namespace identified by a header field prefix.The HTTP Extension Framework introduces two types of extension declarationstrength: mandatory and optional, and two types of extension declaration scope:hop-by-hop and end-to-end. Which type of the extension declaration strengthsand/or which type of the extension declaration scopes should be used depends onwhat the user agent needs to do.The strength of the extension declaration should be mandatory if the useragent needs to obtain an error response when a server(an origin server, a gatewayor a proxy) does not comply with the CC/PP exchange protocol.The strength of the extension declaration should be optional if the useragent needs to obtain the non-tailored content when a server does not complywith the CC/PP exchange protocol. The scope of the extension declaration shouldbe hop-by-hop if the user agent has a priori knowledge that the first hopproxy complies with the CC/PP exchange protocol.The scope of the extension declaration should be end-to-end if the user agenthas a priori knowledge that the first hop proxy does not comply with the CC/PPexchange protocol, or the user agent does not use a proxy.The Profile header field is a request-header field, which conveys a list ofreferences which address CC/PP descriptions.The grammar for the Profile header field is as follows:Header fieldGrammarProfile= profile-field-name ":" 1#referenceprofile-field-name= "Profile"reference= <"> ( absoluteURI | profile-diff-name ) <">profile-diff-name= profile-diff-number "-" profile-diff-digestprofile-diff-number= 1#DIGITprofile-diff-digest= sp; < MD5 message digest encoded by base64 >DIGIT= <any US-ASCII digit "0".."9">The Profile header field-value is a list of references. Each reference in theProfile header field represents the corresponding entity of the CC/PPdescription.A reference is either an absolute URI or a profile-diff-name. An entity of aCC/PP description which is represented by an absoluteURI exists outside of therequest, and an entity of a CC/PP description which is represented by aprofile-diff-name exisits inside of the request (i.e. in the Profile-Diff headerfield. The profile-diff-name in the Profile header field addresses a CC/PPdescription in the corresponding Profile-Diff header within the samerequest.When the Profile header field includes a profile-diff-name, the correspondingProfile-Diff header MUST be included within the same request. The main reasonwhy the profile-diff-name is introduced is to specify the priority of each CC/PPdescription in the Profile header field-value. The priority is indicated by theorder of references (i.e. absoluteURI or profile-diff-name) in the Profileheader field-value. The latest reference in the Profile header field-value hasthe highest priority.Therefore a CC/PP description which is represented by the latest referencecan override CC/PP descriptions which are represented by the precedentreferences. This is the default behavior in the absence of schema rules. Allprofile information could be represented by absoluteURIs in the Profile header.In this case, the Profile-Diff header field does not have to be added to therequest. On the other hand, only one Profile-Diff header can contain all profileinformation. In this case, the Profile header includes only theprofile-diff-name which indicates the Profile-Diff header.3.2 W-HTTPThe WAP Forum UAProf group has defined a transport for CC/PP over W-HTTP(Wireless Profiled HTTP). It can be found in section 9 of the UAProfspecification. In the case where the mobile terminal supports wireless profiledHTTP the profile is transported using meta data defined byHTTP [W-HTTP] the profile is transported using meta data defined by-->thisspecification. The CC/PP Framework remains unaltered. The defined mechanismprovides a functional equivalent for the CC/PP exchange protocol [CCPP-ex] butthe definition of the syntax and semantics of the transport remains in thisspecification.3.2.1 Using W-HTTP to transport CC/PPThe following extension headers are defined to transport CC/PP in W-HTTP. Thedefined extension headers are considered to be end to end headers..3.2.1.1 X-WAP-PROFILEThe x-wap-profile header is a general header field which MUST contain thefollowing :·a URI referencing the CC/PP profile, or·a reference to a profile difference, transported using thex-wap-profile-diff or·a combination of multiple instances of these two types of data. This dataMAY be generated by the mobile terminal or attached by an intermediary point ina request to an origin server.In the case of Push this header MAY be generated as a response to a request.In the case of Push this data may be cached. However this header MUST be presentin any request or response when UAProf is used.The x-wap-profile header MAY contain references to instances of thex-wap-profile-diff header (defined in the following section ). Each referencecontains two parts, the sequence number and the profile-digest. The sequencenumber is used to determine the order of how the x-wap-profile-diff headersshould be applied and the digest is used to validate that the profile-desc inthe x-wap-profile-diff header value is correct.3.2.1.2. X-WAP-PROFILE-DIFFThe x-wap-profile-diff header is a general header and MAY be generated by themobile terminal or an intermediate proxy to enhance or alter the CPI. There maybe multiple profile differences, each profile difference must also have areference in the x-wap-profile header which indicates the order in whichdifferences should be applied. This header contains two parts, a sequenceidentifier and the entity which represents the part of the CC/PP descriptionthat is being enhanced. This header MAY be present in a request or response. Inthe case of Push this data may be cached.3.2.1.3. X-WAP-PROFILE-WARNINGThe x-wap-profile-warning header is a general header. Essentially, it is thesame as the X-WAP-PROFILE-WARNING header in the CC/PP Exchange Protocol. Itspresence indicates the level to which the response has been tailored in relationto profile data that has been supplied in the request. This header MAY bepresent in a request or response. The warning codes that are defined fall intothe following categories :·1xx - reserved·100 -- reserved·2xx - indicates whether the content has been adapted depending on theprofile·5xx - indicates the server is incapable of processing CPI.The x-wap-profile-warning may have the following values.200Not appliedThis value MUST be included if the content has not been tailored, and is sentin a representation, which is the only representation available in theserver.201Content selection appliedMUST be included if the included content has been selected from one of therepresentations available.202 Content generation appliedMUST be included if the content has been tailored or generated as a result ofapplying the included profile.203 Transformation appliedMUST be added by an intermediate proxy if it applies any transformationchanging the content-coding based on the CPI data.500Not SupportedIndicates that the entity sending this warning code does not supportUAProf.3.2.1.4. Protocol Procedures3.2.1.4.1. Over The AirIn this transport variant the headers and their values are not compressed forover the air transmission. It is recommended that the hardware and softwaremanufacturer only use the x-wap-profile header to indicate an absoluteURI as thereference for CPI for the mobile terminal when transmitted over the air. Howeverthis specification does not preclude the use x-wap-profile-diff in thiscase.3.2.1.4.2. Combining X-WAP-Profile and X-WAP-Profile-DiffIf the x-wap-profile-diff header is included the profile-diff-seq MUST matcha sequence number in the x-wap-profile header otherwise the associatedprofile-diff-desc MUST NOT be processed. The reference to eachx-wap-profile-diff header contains two parts, a sequence number which governsthe order in which the x-wap-profile-diff headers are processed and an MD5message digest which is used to validate the profile-desc which is contained inthe x-wap-profile-diff. If either the sequence or the MD5 validation do notmatch, the particular profile-diff MUST be ignored.If the x-wap-profile-diff header is added by an intermediate proxy, it MUSTNOT alter the existing sequence of x-wap-profile-diff headers, the proxy MUSTappend using the next available sequence number in numeric order. The digestassociated with an x-wap-profile-diff MUST be generated by applying MD5 messagedigest algorithm [RFC1321] and base64 algorithm, section 6.8 in the MIMEspecification [RFC2045] to the corresponding profile-desc part of the headerfield-value.The MD5 algorithm takes as input a message of arbitrary length and producesas output a 128-bit "fingerprint" or "message digest" of the input. The base64algorithm takes as input arbitrary binary data and produces as output printableencoding data of the input.3.2.1.5. Relationship with HTTP HeadersThe profile information referred to in the x-wap-profile andx-wap-profile-diff header does not supersede HTTP request or response headerinformation.3.2.1.5.1. CachingThe x-wap-profile-warning header MUST NOT be used for cache control purposes.If a server wishes to indicate a caching dependency based on theseheaders then hit should use the Vary header as defined in section14.44 of the HTTP 1.1 specification [HTTP/1.1].3.3 XML Protocol/SOAPHow CC/PP will be transported and handled in of XML Protocol/SOAP is notclear. This is something the working group wishes to investigate further.3.4 Other protocolsThe WAP Forum has provided a mapping to the headers of WSP, the WirelessSession Protocol (defined in the WAP UAPROF specification). Work is also ongoingin 3GPP to transport CC/PP over RSVP.4.Use Cases4.1 HTTP use caseSince CC/PP is intended to be protocol neutral, it will work with anyprotocol which can transport it. Mappings have been produced for otherprotocols, most notably WSP. However, it is to be expected that it will beimplemented for HTTP, using HTTP headers as a transport. The working group alsointends to look at the transport of CC/PP over SOAP/XML Protocol as a futurework item.4.1.1 Trust mechanismsPolicy publishing does not bring trust by itself. Trust has to be obtained inother ways, before it is even worth the trouble to publish a policy. In thiscontext, P3P should rather be seen as ameans to retrieve the user's consent for data storage and/or processing. Itenables the client to retrieve a policy declaration from the server, and matchthis with the preferences of the client. However, P3P is not defined for otherprotocols than HTTP. No other mechanisms exist, to our knowledge, to communicatepolicies between client and server. Note, however, the known problem that P3Pdoes nothing to enforce the policy - this is assumed to take place out ofband.4.1.2 Using P3P with HTTPIn the document CC/PP exchange protocolhref="#CCPP-ex">[CCPP-ex] based on HTTP Extension Framework[HTTPext], a mechanism to transport CC/PP over HTTP is described. This documentdescribes how that interaction could take place, given a P3P interaction aswell.Before a policy can be exchanged, the client must request it from a server.If this is not a proxy in a trusted domain, the client will expose his profileto a possibly malicious party if the CC/PP Exchange Protocol is used, since theprofile is sent in its entirety with the first GET request. Thus, a maliciousserver could take this profile and do anything it wanted with it, since norelationship has been established.One solution to this is to transmit a minimal profile as part of the firstrequest, as described in [PEMI]. When the policy has been received and approved,a full profile is sent (as a profile-diff). Note that if the policy is rejected,there is currently no way for the server to maintain a state over usersrequests, and there is no way for the server to recognize that the client doesnot approve of the policy, since there is no fallback method in P3P.Note that it is possible for the profile declared to be a null profile (i.e.without content), and the correct profile to be transferred as a diff uponapproval of the servers policy. Note also that the state management mechanism inthe server is currently is not specified. It should be possible to use cookiesfor this, although the ramifications of a discussion of this would lead toofar.The interaction with P3P might have two levels of granularity:a) where the privacy policy includes all CC/PP vocabulary [generic statementstating that all data in the profile and profile diff headers will not beretained or misused, or will be used only for the purposes of contentcustomization]b) where the policy specifically states what attributes (data elements) fromthe CC/PP vocabulary is collected and state the purpose. This can be extended ata later date to include negotiation capabilities (which is currently out of thescope of P3P1.0) or alternately, the user agent can be smart enough to parsethese elements out and send only those attributes (as indicated in the policy)in the profile and profile diff headers following the acceptable of the site'spolicy.4.1.2.1 P3P and CC/PPvocabulariesThe P3P vocabulary is defined in XML. The CC/PP vocabularies are defined inRDF (using the XML encoding of RDF). The P3P specificationhref="#P3P">[P3P] declares thatan RDF encoding will be made available; when this happens, P3P elements can beused inside CC/PP profiles (and vice versa). For further information on mixingnamespaces in profiles, see [CCPP] and [CCPP-vocab]. Since this effort has beenadvertised, the CC/PP working group has decided not to create any mapping oftheir own, but await the P3P working group efforts. An alternative solution isto create a CC/PP data schema in the P3P syntax, but that would seem redundantif an RDF version of P3P is forthcoming. The two working groups will continue toinvestigate this.4.1.2.2 Safe ZoneThe P3P specification defines a concept of a "safe zone". This concept doesnot exist a priori in CC/PP, since no protocol has been defined. However, thePIMI method as described in section 5.1 can be used to provide a safe zone inthe way that is indicated in the P3P specification, section 2.4.3. As notedabove, an empty profile can be used while negotiating within the safe zone,instead of a minimal one.4.1.2.3 APPELNo rules language is defined for CC/PP. Existing implementations make use ofXSLT to predicate transformations (using Xpath, profile documents can beaddressed from within a style sheet). In the future, it is foreseen that therewill be a need for a more extensive rule system, such that decisions can concernnot just the formatting, but the content itself as well. In that regard,synergies with the APPEL rules language for P3P could be investigated.4.2 Use of trusted intermediariesIn the CC/PP Exchange protocol, profiles can be referenced and retrieved byan intermediary (a gateway or other proxy). It is also possible that this entitycould handle the P3P negotiations, if a mechanism to delegate authority to itexisted, and end-to-end security was not required. This may occur in situationswhere the user is in a trusted domain, which is interfaced with the Internetthrough the proxy or gateway.In this case, the P3P negotiation will be terminated in the proxy. It willalso be necessary for the proxy not just to keep a cache of documents, but tomaintain a database of user state. It may even be necessary for the proxy tobecome the entity which performs not just transcoding, but also personalizationon behalf of the origin server.The advantage for the user of this would be that the personal information -including the CC/PP profile - stays in the trusted proxy. The advantage for theorigin server owner is harder to identify, since the version of the documentwhich has to be delivered will have to be "universal", and there will not be anyrecord of the number of retrievals, who retrieved it, etc (which, conversely,can be seen as a privacy enhancement for the user).As this type of system continues to emerge, e.g. in the scope of the IETFWEBI and APEX working groups, we foresee that the issue will become moreimportant. However, since the mechanism is transparent to HTTP, and since it canbe for CC/PP, we will not discuss it to any further extent here.5. Examples5.1 Using P3P with CC/PP Exchange Protocol usingthePIMImethodThe idea behind the PIMI method is that the client has defined a minimalprofile with non-contentious information (which cannot be used to infringe onthe privacy of the client). This minimal profile is used in an initial requestto get the privacy policy of the server. As demonstrated below, using theprofile-diff headers of the CC/PP Exchange protocol, it becomes possible for theclient to signal satisfaction or dissatisfaction with the policy by returning aprofile difference or not. In response to the empty diff, the server can providea document which does not contain the adaption which would have been done usingthe information which the client will not reveal.What constitutes a "minimal profile" is most likely subjective. Ultimately,the user will have to determine what information he or she wants to give out.However, for the purposes of discussion, we will assume that the propertieswhich enable a generic display and data input on the device, without expressingany preferences and without any modifications, will constitute a minimum. Thatwould imply the following, using the properties defined by the WAP UAProfdrafting committee:Screen sizeColor capableIn this document, we propose that an empty diff be sent as response (in asecond GET), which would imply that the profile has not changed. Depending onthe implementation, the server could return a document containing a differentinformation set than the user would have got if he had accepted the policy; orreturned nothing. This is not specified in the P3P specification, and out ofscope for the CC/PP work.This would apply when the client initially contacted the server during asession. During the rest of the session, it would be able to refer to the policyfirst retrieved, or to follow-up policies which can be added later during asession (using the LINK tag in HTTP, using a well-known location, or an HTTPheader).The interactions would look as follows:1. Client sends request with minimal profile to server. This request can bedirected to the well-known location of the P3P reference file, /w3c/p3p.xml. Itcan also be directed at another location, if this has been indicated in a LINKtag in a document that references this server. The reference file is returned.After that, another request will retrieve the policy file.2. Server returns policy.3. Client reads policy and matches against own rule set3'. Client approves policy, sends diff with full information (or a GET withfull information directed at the URI where the document resides, if the policywas retrieved from the well-known or LINK-ed location).4'. Client receives document3". Client rejects policy, resends request with empty diff4". Client receives less important document.With protocol interactions, this would look as follows:1. Client sends request with minimal profile to server.         GET /a-resource HTTP/1.1Host: www.w3.orgOpt: "http://www.w3.org/TR/NOTE-CCPPexchange" ; ns=1919-Profile: "http://www.aaa.com/hw","http://www.bbb.com/sw","1-uKhJE/AEeeMzFSejsYshHg=="Accept: */*Accept-Language: de, en2. Server returns policy.         HTTP/1.1 200 OKP3P: policyref="http://catalog.example.com/P3P/PolicyReferences.xml"Content-Type: text/htmlContent-Length: 7413Server: CC-Galaxy/1.3.183. Client reads policy and matches against own rule set(not shown)3'. Client approves policy, sends diff with full information          GET /a-resource HTTP/1.1Host: www.w3.orgOpt:"http://www.w3.org/TR/NOTE-CCPPexchange" ; ns=1919-Profile:"http://www.aaa.com/hw","http://www.bbb.com/sw","1-uKhJE/AEeeMzFSejsYshHg=="19-Profile-Diff-1: <?xml version="1.0"?><RDF xmlns="http://www.w3.org/TR/PR-rdf-syntax"xmlns:PRF="http://www.example.org/TR/WD-profile-vocabulary#"><Description ID="SoftwarePlatform" PRF:Sound="On" /></RDF>4'. Client receives document(not shown)3". Client rejects policy, resends request with empty diff          GET /a-resource HTTP/1.1Host: www.w3.orgOpt:"http://www.w3.org/TR/NOTE-CCPPexchange" ; ns=1919-Profile:"http://www.aaa.com/hw","http://www.bbb.com/sw","1-uKhJE/AEeeMzFSejsYshHg=="19-Profile-Diff-1:4". Client receives less important document(not shown)6. References[HTTPext]href="http://www.w3.org/Protocols/HTTP/ietf-http-ext/draft-frystyk-http-extensions-03.txt">HTTPExtension Framework[HTTP/1.1]href="http://www.w3.org/Protocols/HTTP/1.1/draft-ietf-http-v11-spec-rev-06.txt">HTTP/1.1,Rev6[CC/PP]href="http://www.w3.org/TR/NOTE-CCPP">Composite Capability/Preference Profiles(CC/PP): A user side framework for content negotiation[RDF]href="http://www.w3.org/TR/REC-rdf-syntax">Resource Description Framework, (RDF)Model and Syntax Specification[RDF-Schema]href="http://www.w3.org/TR/WD-rdf-schema">Resource Description Framework (RDF)Schema Specification[P3P] Platformfor Privacy Preferences P3P Project[P3P-Syntax]href="http://www.w3.org/TR/WD-P3P/syntax.html">Platform for PrivacyPreferences [P3P] Syntax Specification-->[RFC2396]href="http://info.internet.isi.edu/rfc/rfc2396.txt">RFC 2396 :Uniform Resource Identifiers (URI): Generic Syntax[RFC2119]href="http://info.internet.isi.edu/rfc/rfc2119.txt">RFC 2119 :Key words for use in RFCs to Indicate Requirement Levels-->[IOTP]href="ftp://ftp.ietf.org/internet-drafts/draft-ietf-trade-iotp-v1.0-protocol-06.txt">InternetOpen Trading Protocol - IOTP Version 1.0[IOTPsig]href="ftp://ftp.ietf.org/internet-drafts/draft-ietf-trade-iotp-v1.0-dsig-03.txt">DigitalSignatures for the Internet Open Trading Protocol[DOMHASH]href="ftp://ftp.ietf.org/internet-drafts/draft-ietf-trade-hiroshi-dom-hash-03.txt">DigestValues for DOM (DOMHASH)-->[CCPP-ex] CC/PP exchangeprotocol based on HTTP Extension Framework[PEMI] PrivacyEnhancements in the Mobile Internet, Mikael Nilsson, Helena Lindskog, SimoneFischer-Huebner, Karlstad University.(PDF format)[CCPP-vocab] W3C Note, CC/PP Implementers GuideHarmonization with Existing Vocabularies and Content Transformation Heuristics, to be appeared.AppendixBasic requirements for trust management frameworksA.1 Basic requirementsThe basic requirements for the CC/PP trust management framework, which werediscussed in the 1999 version of this document, are listed below.A client must be able to discover the privacy practices of an originserver before revealing private profile informationThe privacy mechanism must be separable from CC/PP framework so that theuser has a choice of whether or not privacy mechanism is to beused. In otherwords, enable CC/PP content negotiation with or without privacyThe protocol must allow each client individually to determine whatinformation is private Any or all of the profile can be considered private.What may be a private piece of information for one user may not be so foranother.Since CC/PP is protocol independent, the privacy mechanism should also besupported on various transport protocols (including HTTP, MIME, SMTP etc)A client must be able to interact with a server to the point ofdiscovering its privacy policy without having to disclose any particular itemof information.For example, a user agent first sends non-private profile data to a server,which then responds with a privacy policy, as a result of which, the useragent may either choose to send or not send any additional (private)information to the server for the purposes of receiving tailored content.It should be possible for the origin server to render content best effort,if the private information is not shared by the user.Intermediate proxies, servers and gateways asserting profile data mustalso honor the privacy needs of the user. In other words, if the user deems aprofile attribute to be private, an intermediate proxy must not disclose thatattribute in its profile diff.May require user-agent side privacy capability (e.g. P3P user agents) mustbe supported by such servers/ proxies/ gateways.As with CC/PP mechanism, the private profile must also support.additions and overrides by other network elements as specified in theCC/PP specsinline or URI (indirect) references to the profile informationthe privacy mechanism should support the split client model. Thinclients such as for low-end devices (on a mobile network for example), may notbe able to support the necessary mechanism for privacy (e.g. P3P user agent)perhaps due to overhead. Such a function should be enabled on a gateway orproxy that acts on behalf of the thin client. [is this within the scope of ourwork?]Any requirements relative to P3P policy asserted by servers to be in XMLversus RDF formats?The privacy mechanism must be independent of and separable from securitymechanisms. In other words, it should be possible to transmit private CC/PPprofile information with or without security.The combined system of capability profiles and privacy practicedeclarations must work in the presence of information caches without leakingprivate information to parties who have not agreed to treat it properly.A.2 P3P and the requirements for the trustmechanismThis is an analysis of how the proposed use of P3P would fulfill the basicrequirements for the CC/PP trust management framework (section 3).A client must be able to discover the privacy practices of an originserver before revealing private profile informationFulfilled, provided no private information is transmitted..The privacy mechanism must be separable from CC/PP framework so that theuser has a choice of whether or not privacy mechanism is to be used. In otherwords, enable CC/PP content negotiation with or without privacyProtocol dependent. Not possible in the examples given.The protocol must allow each client individually to determine whatinformation is private Any or all of the profile can be considered private.What may be a private piece of information for one user may not be so foranother.Fulfilled, provided APPEL, a similar rules language, or a proprietarysolution in the device, can be applied to profile construction (or variousprofiles can be selected). I.e. not in this version.Since CC/PP is protocol independent, the privacy mechanism should also besupported on various transport protocols (including HTTP, MIME, SMTP etc)Not fulfilled (P3P can be used with other protocols than HTTP, as notedin the specification, but how has not been specified). .A client must be able to interact with a server to the point ofdiscovering its privacy policy without having to disclose any particular itemof information.For example, a user agent first sends non-private profile data (or an emptyprofile) to a server, which then responds with a privacy policy, as a resultof which, the user agent may either choose to send or not send any additional(personal) information to the server for the purposes of receiving tailoredcontent.Fulfilled.It should be possible for the origin server to render content best effort,if the private information is not shared by the user.FulfilledIntermediate proxies, servers and gateways asserting profile data mustalso honor the privacy needs of the user. In other words, if the user deems aprofile attribute to be private, an intermediate proxy must not disclose thatattribute in its profile diff.Fulfilled, if the method above is used..May require user-agent side privacy capability (e.g. P3P user agents) mustbe supported by such servers/ proxies/ gateways.Fulfilled (although this is actually a strange requirement)As with CC/PP mechanism, the private profile must also support.additions and overrides by other network elements as specified in theCC/PP specsinline or URI (indirect) references to the profile informationNot fulfilled.The privacy mechanism should support the split client model. Thinclients such as for low-end devices (on a mobile network for example), may notbe able to support the necessary mechanism for privacy (e.g. P3P user agent)perhaps due to overhead. Such a function should be enabled on a gateway orproxy that acts on behalf of the thin client. [is this within the scope of ourwork?]Fulfilled? (Not sure)Any requirements relative to P3P policy asserted by servers to be in XMLversus RDF formats?Not sure what this requirement means.The privacy mechanism must be independent of and separable from securitymechanisms. In other words, it should be possible to transmit private CC/PPprofile information with or without security.Fulfilled.The combined system of capability profiles and privacy practicedeclarations must work in the presence of information caches without leakingprivate information to parties who have not agreed to treat it properly.Not fulfilled (since proxies can still betransparent).src="http://www.w3.org/Icons/valid-html401"alt="Valid HTML 4.01!" height="31" width="88">